version: 1.0

source:
  repository_type: GITHUB
  code_repository:
    repository_url: https://github.com/PietroGolfarelli/raven-backend
    source_code_version:
      type: BRANCH
      value: main
    code_configuration:
      configuration_source: API
      code_configuration_values:
        runtime: CUSTOM
        build_command: ./mvnw -B -DskipTests package -Dquarkus.package.type=uber-jar
        start_command: java -jar target/*-runner.jar
        port: 8080
        runtime_environment_variables:
          QUARKUS_HTTP_PORT: "8080"
          QUARKUS_PROFILE: "prod"

auto_deployments_enabled: true

instance_configuration:
  cpu: 1024
  memory: 2048

health_check_configuration:
  protocol: HTTP
  path: /q/health/ready
  interval: 10
  timeout: 5
  healthy_threshold: 1
  unhealthy_threshold: 5